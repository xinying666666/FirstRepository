<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
	<meta charset="utf-8" />
    <link href="//cdn.bootcss.com/bootstrap/4.0.0-alpha.3/css/bootstrap.min.css" rel="stylesheet">
    <script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>
    <input  class="btn btn-success" onclick="add()" value="POST"/>
    <input class="btn btn-success" onclick="getBooks()" value="GET" />
    <input class="btn btn-success" onclick="getBook(2)" value="GET" />
    <input class="btn btn-success" onclick="getJsonpBooks()" value="GetJsonp" />
    <input class="btn btn-success" onclick="deletes(1)" value="DELETE" />
    <input class="btn btn-success" onclick="update(1)" value="PUT" />
    <script>
        //$.ajaxSettings.cache = false;
        function getBooks() {
            $.getJSON({
                url: "//127.0.0.1:8081/api/books",
                
                success: function (data) {
                  
                   alert(JSON.stringify(data));
                }
            })
        }

        function getJsonpBooks() {
            $.ajax({
                type: "GET",
                url: "//127.0.0.1:8081/api/books",
                dataType: 'jsonp',
                success: function (data) {
                   
                    alert(JSON.stringify(data));
                },
                error: function () {
                    alert(2332);
                }

            });
        //    $.ajax({
        //        type:  "GET",
        //        url: "//127.0.0.1:8081/api/books",
            
        //        dataType: "jsonp",
        //            jsonp: 'callback',
        //        success: function (data) {
        //            alert(JSON.stringify(data));
        //        }
        //,
        //        error: function () {
        //            alert(2332);
        //        }
        //    });
        }

        function getBook(id) {
            $.getJSON({
                url: "//127.0.0.1:8081/api/books/" + id,
                success: function (data) {
                    alert(JSON.stringify(data));
                }
            })
        }

        function add() {
            $.ajax({
                url: "//127.0.0.1:8081/api/books",
                type: "POST",
                data: {"Name":"note.js","Price":999},
                success:function myfunction(data) {
                    alert(JSON.stringify(data));
                }

            });
        }

        function update(id) {
            $.ajax({
                url: "//127.0.0.1:8081/api/books/"+id,
                type: "PUT",
                data: { "ID":1,"Name": "javas.js", "Price": 88 },
                success: function myfunction(data) {
                    alert(JSON.stringify(data));
                }

            });
        }

        function deletes(id) {
            $.ajax({
                url: "//127.0.0.1:8081/api/books/" + id,
                type: "DELETE",
                //data: { "Name": "note.js", "Price": 999 },
                success: function myfunction(data) {
                    alert(JSON.stringify(data));
                }

            });
        }

    </script>

</body>
</html>
